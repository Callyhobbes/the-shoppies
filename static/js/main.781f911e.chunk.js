(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{102:function(e,t,c){},103:function(e,t,c){"use strict";c.r(t);var s=c(2),n=c.n(s),i=c(24),a=c.n(i),r=c(15),o=c(16),l=c(18),j=c(17),h=c(10),d=c(5),b=c(7),u=c(1);var p=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.counter.movie}));return console.log(t.length),Object(u.jsxs)(s.Fragment,{children:[Object(u.jsx)("h3",{children:"Your Shoppies"}),Object(u.jsx)("div",{className:"".concat(t.length<1?"only-text":null),children:0===t.length?Object(u.jsxs)("p",{children:["No movies ",Object(u.jsx)("span",{className:"material-icons-outlined",children:"star_border"})," yet."]}):Object(u.jsx)("ul",{className:"shoppies-list",children:t.map((function(t,c){return Object(u.jsxs)("li",{children:[Object(u.jsx)(h.b,{to:{pathname:"/the-shoppies/movie/".concat(t.imdbID),state:{ID:"".concat(t.imdbID)}},children:Object(u.jsx)("img",{src:t.Poster,alt:t.Title})}),Object(u.jsx)("p",{children:"".concat(t.Title," (").concat(t.Year,")")}),Object(u.jsx)("button",{onClick:function(){return e(function(e){return{type:"REMOVE",payload:{remove:1,selected:e.movie}}}({movie:t}))},children:Object(u.jsx)("span",{className:"material-icons-outlined",children:"close"})})]},c)}))})})]})},m=c.p+"static/media/no-poster.8ea4435b.png",O=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){var e;return Object(r.a)(this,c),(e=t.call(this)).state={ID:[]},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.setState({ID:"".concat(this.props.IMDB)})}},{key:"render",value:function(){var e=this.props,t=e.title,c=e.poster,s=e.IMDB;return Object(u.jsx)("li",{children:Object(u.jsx)(h.b,{to:{pathname:"/the-shoppies/movie/".concat(s),state:{ID:"".concat(s)}},children:Object(u.jsx)("img",{src:"N/A"===c?m:c,alt:t})})})}}]),c}(s.Component),v=c.p+"static/media/keanu-min.83634a9d.jpg",x=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){var e;Object(r.a)(this,c);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).shortenSearch=function(e){var t=e.toString();return t.length>10?t.substring(0,10).concat("..."):t},e.pageOutput=function(t,c){return void 0===t?Object(u.jsxs)(s.Fragment,{children:[Object(u.jsx)("h3",{children:"An error has occured during your search. Please try searching again."}),Object(u.jsx)("img",{src:v,alt:"Keanu Reeves questioning your search"})]}):t.length>0?Object(u.jsxs)(s.Fragment,{children:[Object(u.jsxs)("h3",{children:['You searched for "',e.shortenSearch(c),'"']}),Object(u.jsx)("ul",{className:"movie-list",children:t.map((function(e,t){return Object(u.jsx)(O,{title:e.Title,poster:e.Poster,IMDB:e.imdbID},t)}))})]}):Object(u.jsxs)(s.Fragment,{children:[Object(u.jsx)("h3",{children:"Welcome to the Shoppies!"}),Object(u.jsxs)("ul",{className:"instructions",children:[Object(u.jsx)("li",{children:"Use the search bar above to find a movie or television series that you like."}),Object(u.jsx)("li",{children:"Click on the poster images to see more information about the selected title."}),Object(u.jsxs)("li",{children:["Select the ",Object(u.jsx)("span",{className:"material-icons-outlined",children:"star_border"})," icon to add up to ",Object(u.jsx)("strong",{children:"5"})," movies to your favourites page"]}),Object(u.jsxs)("li",{children:["Select the ",Object(u.jsx)("span",{className:"material-icons",children:"play_arrow"})," icon to play the movie trailer."]}),Object(u.jsxs)("li",{children:["Select the ",Object(u.jsx)("span",{className:"material-icons-outlined",children:"more_horiz"})," icon to learn more about the movie on IMBD."]}),Object(u.jsxs)("li",{children:["Use the navbar see your favourites ",Object(u.jsx)("span",{className:"material-icons-outlined",children:"favorite_border"}),", your past search ",Object(u.jsx)("span",{className:"material-icons",children:"replay"})," or to see Cally's picks ",Object(u.jsx)("span",{className:"material-icons-outlined",children:"movie"})]})]})]})},e}return Object(o.a)(c,[{key:"render",value:function(){var e=this.props,t=e.movies,c=e.search;return Object(u.jsx)(s.Fragment,{children:this.pageOutput(t,c)})}}]),c}(s.Component),f=c(34);c(61);f.a.initializeApp({apiKey:"AIzaSyBDxJ2gCQOSjKVEgWaZhyGZY0s1jzBY2Oc",authDomain:"the-shoppies-1edfe.firebaseapp.com",projectId:"the-shoppies-1edfe",storageBucket:"the-shoppies-1edfe.appspot.com",messagingSenderId:"828709457093",appId:"1:828709457093:web:68712c5df2d11e72b374ac"});var g=f.a,y=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){var e;return Object(r.a)(this,c),(e=t.call(this)).state={cally:[]},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var e=this;g.database().ref().on("value",(function(t){var c=t.val(),s=[];for(var n in c){var i={id:n,name:c[n]};s.push(i)}e.setState({cally:s})}))}},{key:"render",value:function(){return Object(u.jsxs)(s.Fragment,{children:[Object(u.jsx)("h3",{children:"Cally's Picks"}),Object(u.jsx)("ul",{className:"shoppies-list",children:this.state.cally.map((function(e,t){return Object(u.jsxs)("li",{children:[Object(u.jsx)(h.b,{to:{pathname:"/the-shoppies/movie/".concat(e.name.imdbID),state:{ID:"".concat(e.name.imdbID)}},children:Object(u.jsx)("img",{src:"N/A"===e.name.Poster?m:e.name.Poster,alt:e.name.Title})}),Object(u.jsx)("p",{children:"".concat(e.name.Title," (").concat(e.name.Year,")")})]},t)}))})]})}}]),c}(s.Component),N=c(36),S=c(27),D=c.n(S);var I=function(e){var t=e.info,c=Object(b.c)((function(e){return e.counter.title})),n=Object(b.b)();return Object(u.jsx)(s.Fragment,{children:Object(u.jsx)("button",{onClick:function(){return n({type:"INCREMENT",payload:{add:1,insert:e=t,title:e.Title,year:e.Year}});var e},children:Object(u.jsx)("span",{className:"material-icons-outlined ".concat(c.includes(t.Title)?"control":""),children:"star_border"})})})},C=c(48),k=c.n(C),w=c(49);var T=function(e){var t=Object(s.useState)([]),c=Object(N.a)(t,2),n=c[0],i=c[1],a=Object(s.useState)(""),r=Object(N.a)(a,2),o=r[0],l=r[1],j=e.location.state.ID,h=Object(b.b)(),d=Object(b.c)((function(e){return e.modal}));Object(s.useEffect)((function(){D()({url:"https://www.omdbapi.com/?apikey=".concat("1c039e11"),method:"GET",responseType:"json",params:{i:"".concat(j)}}).then((function(e){i(e.data)}))}));var p=n.Poster,O=n.Title,v=n.Year,x=n.Plot,f=n.Director,g=n.Actors,y=n.imdbID;return Object(u.jsxs)("div",{className:"single-movie ".concat(window.innerWidth>950?"film-contain":""),children:[Object(u.jsxs)("div",{className:"desktop-left ".concat(d?" blurBack":""),children:[Object(u.jsx)("div",{className:"movie-poster",children:Object(u.jsx)("img",{src:"N/A"===p?m:p,alt:O})}),Object(u.jsxs)("div",{className:"interactions",children:[Object(u.jsx)(I,{info:n}),Object(u.jsx)("button",{children:Object(u.jsx)("span",{className:"material-icons",onClick:function(){k()("".concat(n.Title)).then((function(e){var t=new URL(e).search.slice(3);l(t),h({type:"MODAL"})}))},children:"play_arrow"})}),Object(u.jsx)("a",{href:"https://www.imdb.com/title/".concat(y),children:Object(u.jsx)("span",{className:"material-icons-outlined",children:"more_horiz"})})]})]}),d?Object(u.jsx)("div",{className:"highlight",children:Object(u.jsx)(w.a,{videoId:o,opts:{playerVars:{autoplay:1}},containerClassName:"overlay",ClassName:"test"})}):Object(u.jsxs)("div",{className:"movie-content ".concat(d?" blurBack":""),children:[Object(u.jsx)("h3",{children:O}),Object(u.jsx)("p",{children:Object(u.jsx)("strong",{children:"Summary"})}),Object(u.jsx)("p",{children:x}),Object(u.jsx)("p",{children:Object(u.jsx)("strong",{children:"Director"})}),Object(u.jsx)("p",{children:f}),Object(u.jsx)("p",{children:Object(u.jsx)("strong",{children:"Cast"})}),Object(u.jsx)("p",{children:g}),Object(u.jsx)("p",{children:Object(u.jsx)("strong",{children:"Release"})}),Object(u.jsx)("p",{children:v})]})]})};var E=function(){var e=Object(b.c)((function(e){return e.counter.number}));return Object(u.jsx)(s.Fragment,{children:e>0&&Object(u.jsx)("span",{className:"favourite",children:e})})},_=c.p+"static/media/cal-stroke.a4087cf3.svg";var M=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.modal}));return Object(u.jsx)("li",{className:t?"show":"hide",onClick:function(){return e({type:"MODAL"})},children:Object(u.jsx)("span",{className:"material-icons-outlined",children:"close"})})},F=c.p+"static/media/cal-logo.7961e720.svg",B=c.p+"static/media/search.8900d0c8.svg",A=(c(102),function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(e){var s;return Object(r.a)(this,c),(s=t.call(this,e)).handleChange=function(e){var t=e.target.value;s.setState({search:t})},s.reset=function(){s.setState({search:"",movies:[],redirect:!1})},s.handleSubmit=function(e){e.preventDefault();D()({url:"https://www.omdbapi.com/?apikey=".concat("1c039e11"),method:"GET",responseType:"json",params:{s:"".concat(s.state.search),type:"movie"}}).then((function(e){s.setState({movies:e.data.Search,redirect:!0}),document.getElementById("movie").value=""})).catch((function(e){console.log(e)}))},s.redirect=function(){s.setState({redirect:!1})},s.removeIntro=function(){s.setState({opening:!s.state.opening})},s.state={opening:!0,search:"",movies:[],redirect:!1},s}return Object(o.a)(c,[{key:"componentDidMount",value:function(){console.log(sessionStorage),"1"===sessionStorage.getItem("visited")&&(window.location="https://github.com/Callyhobbes/the-shoppies"),sessionStorage.setItem("visited","1"),console.log(sessionStorage)}},{key:"render",value:function(){var e=this;return Object(u.jsxs)(s.Fragment,{children:[this.state.opening&&Object(u.jsxs)("div",{className:"opening",onClick:this.removeIntro,children:[Object(u.jsx)("img",{src:_,alt:"shoppies logo"}),Object(u.jsx)("h2",{children:"The Shoppies"})]}),!this.state.opening&&Object(u.jsxs)(h.a,{children:[Object(u.jsxs)("header",{children:[Object(u.jsx)(h.c,{to:"/the-shoppies",children:Object(u.jsx)("button",{children:Object(u.jsx)("img",{className:"logo",src:F,alt:"Calvin Movie Logo"})})}),Object(u.jsxs)("form",{action:"",className:"search-bar",onSubmit:this.handleSubmit,children:[Object(u.jsx)("label",{htmlFor:"movie",children:"Movie title"}),Object(u.jsx)("input",{type:"text",id:"movie",name:"movie",onChange:this.handleChange,value:this.props.search,placeholder:"Search for a movie"}),Object(u.jsx)("button",{className:"search-button",value:"submit",children:Object(u.jsx)("img",{src:B,alt:"search button"})})]})]}),Object(u.jsxs)("section",{children:[Object(u.jsx)("nav",{className:"sidebar",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(h.c,{to:"/the-shoppies",children:Object(u.jsx)("span",{className:"material-icons-outlined",onClick:this.reset,children:"info"})})}),Object(u.jsx)("li",{children:Object(u.jsx)(h.c,{to:"/the-shoppies/cally",activeClassName:"selected",onClick:this.redirect,children:Object(u.jsx)("span",{className:"material-icons-outlined",children:"movie"})})}),Object(u.jsx)("li",{children:Object(u.jsxs)(h.c,{to:"/the-shoppies/favourite",activeClassName:"selected",onClick:this.redirect,children:[Object(u.jsx)("span",{className:"material-icons",children:"favorite_border"}),Object(u.jsx)(E,{})]})}),Object(u.jsx)("li",{children:Object(u.jsx)(h.c,{to:"/the-shoppies",children:Object(u.jsx)("span",{className:"material-icons",children:"replay"})})}),Object(u.jsx)(M,{})]})}),Object(u.jsxs)("div",{className:"movie-options",children:[Object(u.jsx)(d.b,{exact:!0,path:"/the-shoppies",render:function(){return Object(u.jsx)(x,{movies:e.state.movies,search:e.state.search})}}),Object(u.jsx)(d.b,{path:"/the-shoppies/movie/:movieID",component:T}),!0===this.state.redirect?Object(u.jsx)(d.a,{to:"/the-shoppies"}):Object(u.jsx)(d.b,{path:"/the-shoppies/cally",component:y}),!0===this.state.redirect?Object(u.jsx)(d.a,{to:"/the-shoppies"}):Object(u.jsx)(d.b,{path:"/the-shoppies/favourite",component:p})]})]})]})]})}}]),c}(s.Component)),P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,104)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),s(e),n(e),i(e),a(e)}))},L=c(28),R=c(37),Y=c(23),V={number:0,movie:[],title:""},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT":return e.number<5&&!e.title.includes(t.payload.title)?e=Object(Y.a)(Object(Y.a)({},e),{},{number:e.number+t.payload.add,movie:[].concat(Object(R.a)(e.movie),[t.payload.insert]),title:[].concat(Object(R.a)(e.title),[t.payload.title])}):(console.log("else"),e);case"REMOVE":return console.log(t.payload.selected.Title),e=Object(Y.a)(Object(Y.a)({},e),{},{number:e.number-t.payload.remove,movie:e.movie.filter((function(e){return e!==t.payload.selected})),title:e.title.filter((function(e){return e!==t.payload.selected.Title}))});default:return e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODAL":return!e;default:return e}},X=Object(L.a)({counter:z,modal:U}),G=Object(L.b)(X,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(b.a,{store:G,children:Object(u.jsx)(A,{})})}),document.getElementById("root")),P()}},[[103,1,2]]]);
//# sourceMappingURL=main.781f911e.chunk.js.map