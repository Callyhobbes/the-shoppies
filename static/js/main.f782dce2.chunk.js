(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{102:function(e,t,c){},103:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),i=c(24),a=c.n(i),r=c(15),o=c(16),l=c(18),h=c(17),j=c(10),d=c(5),p=c.p+"static/media/no-poster.8ea4435b.png",u=c(7),b=function(e){return{type:"MODAL",payload:{value:e}}},m=function(e){return{type:"REDIRECT",payload:{value:e}}},O=c(1);var v=function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.counter.movie}));return Object(O.jsxs)(n.Fragment,{children:[Object(O.jsx)("h3",{children:"Your Shoppies"}),Object(O.jsx)("div",{className:"".concat(t.length<1?"only-text":null),children:0===t.length?Object(O.jsxs)("p",{children:["No movies ",Object(O.jsx)("span",{className:"material-icons-outlined",children:"star_border"})," yet."]}):Object(O.jsx)("ul",{className:"shoppies-list",children:t.map((function(t,c){return Object(O.jsxs)("li",{children:[Object(O.jsx)(j.b,{to:{pathname:"/the-shoppies/movie/".concat(t.imdbID),state:{ID:"".concat(t.imdbID)}},children:Object(O.jsx)("img",{src:"N/A"===t.Poster?p:t.Poster,alt:t.Title})}),Object(O.jsx)("p",{children:"".concat(t.Title," (").concat(t.Year,")")}),Object(O.jsx)("button",{onClick:function(){return e(function(e){return{type:"REMOVE",payload:{remove:1,selected:e.movie}}}({movie:t}))},children:Object(O.jsx)("span",{className:"material-icons-outlined",children:"close"})})]},c)}))})})]})},x=function(e){Object(l.a)(c,e);var t=Object(h.a)(c);function c(){var e;return Object(r.a)(this,c),(e=t.call(this)).redirect=function(){e.props.toggleRedirect(!1)},e.state={ID:[]},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.setState({ID:"".concat(this.props.IMDB)})}},{key:"render",value:function(){var e=this.props,t=e.title,c=e.poster,n=e.IMDB;return Object(O.jsx)("li",{onClick:this.redirect,children:Object(O.jsx)(j.b,{to:{pathname:"/the-shoppies/movie/".concat(n),state:{ID:"".concat(n)}},children:Object(O.jsx)("img",{src:"N/A"===c?p:c,alt:t})})})}}]),c}(n.Component),g=Object(u.b)((function(e){return{redirect:e.redirect}}),{toggleRedirect:m})(x),f=c.p+"static/media/keanu-min.83634a9d.jpg",y=function(e){Object(l.a)(c,e);var t=Object(h.a)(c);function c(){var e;Object(r.a)(this,c);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).shortenSearch=function(e){var t=e.toString();return t.length>10?t.substring(0,10).concat("..."):t},e.errorMessage=function(e){return e.length<=2?Object(O.jsx)("h3",{children:"Try using a word longer than 2 letters."}):e.length>=16?Object(O.jsx)("h3",{children:"Try using a word shorter than 16 letters."}):Object(O.jsxs)("h3",{children:["Maybe '",e,"' isn't a movie"]})},e.pageOutput=function(t,c){return void 0===t?Object(O.jsxs)(n.Fragment,{children:[Object(O.jsx)("h3",{children:"An error has occured during your search."}),Object(O.jsx)("img",{src:f,alt:"Keanu Reeves questioning your search"}),e.errorMessage(c)]}):t.length>0?Object(O.jsxs)(n.Fragment,{children:[Object(O.jsxs)("h3",{children:['You searched for "',e.shortenSearch(c),'"']}),Object(O.jsx)("ul",{className:"movie-list",children:t.map((function(e,t){return Object(O.jsx)(g,{title:e.Title,poster:e.Poster,IMDB:e.imdbID},t)}))})]}):Object(O.jsxs)(n.Fragment,{children:[Object(O.jsx)("h3",{children:"Welcome to the Shoppies!"}),Object(O.jsxs)("ul",{className:"instructions",children:[Object(O.jsx)("li",{children:"Use the search bar above to find a movie that you like."}),Object(O.jsx)("li",{children:"Click on the poster images to see more information about the selected title."}),Object(O.jsxs)("li",{children:["Select the ",Object(O.jsx)("span",{className:"material-icons-outlined",children:"star_border"})," icon to add up to ",Object(O.jsx)("strong",{children:"5"})," movies to your favourites page"]}),Object(O.jsxs)("li",{children:["Select the ",Object(O.jsx)("span",{className:"material-icons",children:"play_arrow"})," icon to play the movie trailer."]}),Object(O.jsxs)("li",{children:["Select the ",Object(O.jsx)("span",{className:"material-icons-outlined",children:"more_horiz"})," icon to learn more about the movie on IMBD."]}),Object(O.jsxs)("li",{children:["Use the navbar to see your favourites ",Object(O.jsx)("span",{className:"material-icons-outlined",children:"favorite_border"}),", your past search ",Object(O.jsx)("span",{className:"material-icons",children:"replay"})," or to see Cally's picks ",Object(O.jsx)("span",{className:"material-icons-outlined",children:"movie"})]})]})]})},e}return Object(o.a)(c,[{key:"render",value:function(){var e=this.props,t=e.movies,c=e.search;return Object(O.jsx)(n.Fragment,{children:this.pageOutput(t,c)})}}]),c}(n.Component),N=c(34);c(61);N.a.initializeApp({apiKey:"AIzaSyBDxJ2gCQOSjKVEgWaZhyGZY0s1jzBY2Oc",authDomain:"the-shoppies-1edfe.firebaseapp.com",projectId:"the-shoppies-1edfe",storageBucket:"the-shoppies-1edfe.appspot.com",messagingSenderId:"828709457093",appId:"1:828709457093:web:68712c5df2d11e72b374ac"});var w=N.a,D=function(e){Object(l.a)(c,e);var t=Object(h.a)(c);function c(){var e;return Object(r.a)(this,c),(e=t.call(this)).state={cally:[]},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var e=this;w.database().ref().on("value",(function(t){var c=t.val(),n=[];for(var s in c){var i={id:s,name:c[s]};n.push(i)}e.setState({cally:n})}))}},{key:"render",value:function(){return Object(O.jsxs)(n.Fragment,{children:[Object(O.jsx)("h3",{children:"Cally's Picks"}),Object(O.jsx)("ul",{className:"shoppies-list",children:this.state.cally.map((function(e,t){return Object(O.jsxs)("li",{children:[Object(O.jsx)(j.b,{to:{pathname:"/the-shoppies/movie/".concat(e.name.imdbID),state:{ID:"".concat(e.name.imdbID)}},children:Object(O.jsx)("img",{src:"N/A"===e.name.Poster?p:e.name.Poster,alt:e.name.Title})}),Object(O.jsx)("p",{children:"".concat(e.name.Title," (").concat(e.name.Year,")")})]},t)}))})]})}}]),c}(n.Component),S=c(36),I=c(27),k=c.n(I);var C=function(e){var t=e.info,c=Object(u.d)((function(e){return e.counter.title})),s=Object(u.c)();return Object(O.jsx)(n.Fragment,{children:Object(O.jsx)("button",{onClick:function(){return s({type:"INCREMENT",payload:{add:1,insert:e=t,title:e.Title,year:e.Year}});var e},children:Object(O.jsx)("span",{className:"material-icons ".concat(c.includes(t.Title)?"control":null),children:"star"})})})},T=c(48),E=c.n(T),M=c(49);var _=function(e){var t=Object(n.useState)([]),c=Object(S.a)(t,2),s=c[0],i=c[1],a=Object(n.useState)(""),r=Object(S.a)(a,2),o=r[0],l=r[1],h=e.location.state.ID,j=Object(u.c)(),d=Object(u.d)((function(e){return e.modal}));Object(n.useEffect)((function(){k()({url:"https://www.omdbapi.com/?apikey=".concat("1c039e11"),method:"GET",responseType:"json",params:{i:"".concat(h)}}).then((function(e){i(e.data)}))}));var m=s.Poster,v=s.Title,x=s.Year,g=s.Plot,f=s.Director,y=s.Actors,N=s.imdbID;return Object(O.jsxs)("div",{className:"single-movie ".concat(window.innerWidth>950?"film-contain":""),children:[Object(O.jsxs)("div",{className:"desktop-left ".concat(d?" blurBack":""),children:[Object(O.jsx)("div",{className:"movie-poster",children:Object(O.jsx)("img",{src:"N/A"===m?p:m,alt:v})}),Object(O.jsxs)("div",{className:"interactions",children:[Object(O.jsx)(C,{info:s}),Object(O.jsx)("button",{children:Object(O.jsx)("span",{className:"material-icons ".concat("N/A"===m?"control":null),onClick:"N/A"===m?null:function(e){e.stopPropagation(),E()("".concat(s.Title)).then((function(e){if(null===e){l("dQw4w9WgXcQ"),j(b(!0))}else{var t=new URL(e).search.slice(3);l(t),j(b(!0))}}))},children:"play_arrow"})}),Object(O.jsx)("a",{href:"N/A"===N?"https://www.google.com/search?q=".concat(v):"https://www.imdb.com/title/".concat(N),children:Object(O.jsx)("span",{className:"material-icons-outlined",children:"more_horiz"})})]})]}),d?Object(O.jsx)("div",{className:"highlight",children:Object(O.jsx)(M.a,{videoId:o,opts:{playerVars:{autoplay:1}},containerClassName:"overlay",ClassName:"test"})}):Object(O.jsxs)("div",{className:"movie-content ".concat(d?" blurBack":""),children:[Object(O.jsx)("h3",{children:v}),Object(O.jsx)("p",{children:Object(O.jsx)("strong",{children:"Summary"})}),Object(O.jsx)("p",{children:g}),Object(O.jsx)("p",{children:Object(O.jsx)("strong",{children:"Director"})}),Object(O.jsx)("p",{children:f}),Object(O.jsx)("p",{children:Object(O.jsx)("strong",{children:"Cast"})}),Object(O.jsx)("p",{children:y}),Object(O.jsx)("p",{children:Object(O.jsx)("strong",{children:"Release"})}),Object(O.jsx)("p",{children:x})]})]})};var R=function(){var e=Object(u.d)((function(e){return e.counter.number}));return Object(O.jsx)(n.Fragment,{children:e>0&&Object(O.jsx)("span",{className:"favourite",children:e})})},A=c.p+"static/media/cal-stroke.a4087cf3.svg",F=c.p+"static/media/cal-logo.7961e720.svg",B=c.p+"static/media/search.8900d0c8.svg",P=(c(102),function(e){Object(l.a)(c,e);var t=Object(h.a)(c);function c(e){var n;return Object(r.a)(this,c),(n=t.call(this,e)).handleChange=function(e){var t=e.target.value;n.setState({search:t})},n.reset=function(){n.setState({search:"",movies:[]}),n.props.toggleRedirect(!1)},n.handleSubmit=function(e){e.preventDefault();k()({url:"https://www.omdbapi.com/?apikey=".concat("1c039e11"),method:"GET",responseType:"json",params:{s:"".concat(n.state.search),type:"movie"}}).then((function(e){n.setState({movies:e.data.Search}),n.props.toggleRedirect(!0),document.getElementById("movie").value=""})).catch((function(e){console.log(e)}))},n.redirect=function(){n.props.toggleRedirect(!1)},n.toggleModal=function(){n.props.toggleModal(!1)},n.state={opening:!0,search:"",movies:[]},n}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({opening:!1})}),3e3)}},{key:"componentWillUnmount",value:function(){clearTimeout()}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{onClick:this.toggleModal,children:[this.state.opening&&Object(O.jsxs)("div",{className:"opening",children:[Object(O.jsx)("img",{src:A,alt:"shoppies logo"}),Object(O.jsx)("h2",{children:"The Shoppies"})]}),!this.state.opening&&Object(O.jsxs)(j.a,{children:[Object(O.jsxs)("header",{children:[Object(O.jsx)(j.c,{to:"/the-shoppies",children:Object(O.jsx)("button",{children:Object(O.jsx)("img",{className:"logo",src:F,alt:"Calvin Movie Logo"})})}),Object(O.jsxs)("form",{action:"",className:"search-bar",onSubmit:this.handleSubmit,children:[Object(O.jsx)("label",{htmlFor:"movie",children:"Movie title"}),Object(O.jsx)("input",{type:"text",id:"movie",name:"movie",onChange:this.handleChange,value:this.props.search,placeholder:"Search for a movie"}),Object(O.jsx)("button",{className:"search-button",value:"submit",children:Object(O.jsx)("img",{src:B,alt:"search button"})})]})]}),Object(O.jsx)("aside",{className:5===this.props.counter?"show":"hide",children:Object(O.jsx)("h4",{children:"You have nominated all your shoppies"})}),Object(O.jsxs)("section",{children:[Object(O.jsx)("nav",{className:"sidebar",children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{className:this.props.modal?"hide":null,children:Object(O.jsx)(j.c,{to:"/the-shoppies",children:Object(O.jsx)("span",{className:"material-icons-outlined",onClick:this.reset,children:"info"})})}),Object(O.jsx)("li",{className:this.props.modal?"hide":null,children:Object(O.jsx)(j.c,{to:"/the-shoppies/cally",onClick:this.redirect,children:Object(O.jsx)("span",{className:"material-icons-outlined",children:"movie"})})}),Object(O.jsx)("li",{className:this.props.modal?"hide":null,children:Object(O.jsxs)(j.c,{to:"/the-shoppies/favourite",onClick:this.redirect,children:[Object(O.jsx)("span",{className:"material-icons",children:"favorite_border"}),Object(O.jsx)(R,{})]})}),Object(O.jsx)("li",{className:this.props.modal?"hide":"null",children:Object(O.jsx)(j.c,{to:"/the-shoppies",children:Object(O.jsx)("span",{className:"material-icons",children:"replay"})})}),Object(O.jsx)("li",{className:this.props.modal?"show include-close":"hide",children:Object(O.jsx)("span",{className:"material-icons-outlined",children:"close"})})]})}),Object(O.jsxs)("div",{className:"movie-options",children:[Object(O.jsx)(d.b,{exact:!0,path:"/the-shoppies",render:function(){return Object(O.jsx)(y,{movies:e.state.movies,search:e.state.search})}}),!0===this.props.redirect?Object(O.jsx)(d.a,{to:"/the-shoppies"}):Object(O.jsx)(d.b,{path:"/the-shoppies/movie/:movieID",component:_}),!0===this.props.redirect?Object(O.jsx)(d.a,{to:"/the-shoppies"}):Object(O.jsx)(d.b,{path:"/the-shoppies/cally",component:D}),!0===this.props.redirect?Object(O.jsx)(d.a,{to:"/the-shoppies"}):Object(O.jsx)(d.b,{path:"/the-shoppies/favourite",component:v})]})]})]})]})}}]),c}(n.Component)),Y=Object(u.b)((function(e){return{modal:e.modal,counter:e.counter.number,redirect:e.redirect}}),{toggleModal:b,toggleRedirect:m})(P),L=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,104)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),i(e),a(e)}))},U=c(28),V=c(37),z=c(23),W={number:0,movie:[],title:""},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT":return e.number<5&&!e.title.includes(t.payload.title)?e=Object(z.a)(Object(z.a)({},e),{},{number:e.number+t.payload.add,movie:[].concat(Object(V.a)(e.movie),[t.payload.insert]),title:[].concat(Object(V.a)(e.title),[t.payload.title])}):e;case"REMOVE":return e=Object(z.a)(Object(z.a)({},e),{},{number:e.number-t.payload.remove,movie:e.movie.filter((function(e){return e!==t.payload.selected})),title:e.title.filter((function(e){return e!==t.payload.selected.Title}))});default:return e}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODAL":return t.payload.value;default:return e}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REDIRECT":return t.payload.value;default:return e}},K=Object(U.a)({counter:X,modal:G,redirect:J}),Q=Object(U.b)(K,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(u.a,{store:Q,children:Object(O.jsx)(Y,{})})}),document.getElementById("root")),L()}},[[103,1,2]]]);
//# sourceMappingURL=main.f782dce2.chunk.js.map