(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{102:function(e,t,c){},103:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),a=c(24),i=c.n(a),r=c(15),o=c(16),l=c(18),j=c(17),h=c(10),d=c(5),b=c.p+"static/media/no-poster.8ea4435b.png",u=c(7),m=c(1);var p=function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.counter.movie}));return Object(m.jsxs)(n.Fragment,{children:[Object(m.jsx)("h3",{children:"Your Shoppies"}),Object(m.jsx)("div",{className:"".concat(t.length<1?"only-text":null),children:0===t.length?Object(m.jsxs)("p",{children:["No movies ",Object(m.jsx)("span",{className:"material-icons-outlined",children:"star_border"})," yet."]}):Object(m.jsx)("ul",{className:"shoppies-list",children:t.map((function(t,c){return Object(m.jsxs)("li",{children:[Object(m.jsx)(h.b,{to:{pathname:"/the-shoppies/movie/".concat(t.imdbID),state:{ID:"".concat(t.imdbID)}},children:Object(m.jsx)("img",{src:"N/A"===t.Poster?b:t.Poster,alt:t.Title})}),Object(m.jsx)("p",{children:"".concat(t.Title," (").concat(t.Year,")")}),Object(m.jsx)("button",{onClick:function(){return e(function(e){return{type:"REMOVE",payload:{remove:1,selected:e.movie}}}({movie:t}))},children:Object(m.jsx)("span",{className:"material-icons-outlined",children:"close"})})]},c)}))})})]})},O=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){var e;return Object(r.a)(this,c),(e=t.call(this)).state={ID:[]},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.setState({ID:"".concat(this.props.IMDB)})}},{key:"render",value:function(){var e=this.props,t=e.title,c=e.poster,n=e.IMDB;return Object(m.jsx)("li",{children:Object(m.jsx)(h.b,{to:{pathname:"/the-shoppies/movie/".concat(n),state:{ID:"".concat(n)}},children:Object(m.jsx)("img",{src:"N/A"===c?b:c,alt:t})})})}}]),c}(n.Component),x=c.p+"static/media/keanu-min.83634a9d.jpg",v=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){var e;Object(r.a)(this,c);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).shortenSearch=function(e){var t=e.toString();return t.length>10?t.substring(0,10).concat("..."):t},e.errorMessage=function(e){return e.length<=2?Object(m.jsx)("h3",{children:"Try using a word longer than 2 letters."}):e.length>=16?Object(m.jsx)("h3",{children:"Try using a word shorter than 16 letters."}):Object(m.jsxs)("h3",{children:["Maybe '",e,"' isn't a movie"]})},e.pageOutput=function(t,c){return void 0===t?(console.log(c),Object(m.jsxs)(n.Fragment,{children:[Object(m.jsx)("h3",{children:"An error has occured during your search."}),Object(m.jsx)("img",{src:x,alt:"Keanu Reeves questioning your search"}),e.errorMessage(c)]})):t.length>0?Object(m.jsxs)(n.Fragment,{children:[Object(m.jsxs)("h3",{children:['You searched for "',e.shortenSearch(c),'"']}),Object(m.jsx)("ul",{className:"movie-list",children:t.map((function(e,t){return Object(m.jsx)(O,{title:e.Title,poster:e.Poster,IMDB:e.imdbID},t)}))})]}):Object(m.jsxs)(n.Fragment,{children:[Object(m.jsx)("h3",{children:"Welcome to the Shoppies!"}),Object(m.jsxs)("ul",{className:"instructions",children:[Object(m.jsx)("li",{children:"Use the search bar above to find a movie that you like."}),Object(m.jsx)("li",{children:"Click on the poster images to see more information about the selected title."}),Object(m.jsxs)("li",{children:["Select the ",Object(m.jsx)("span",{className:"material-icons-outlined",children:"star_border"})," icon to add up to ",Object(m.jsx)("strong",{children:"5"})," movies to your favourites page"]}),Object(m.jsxs)("li",{children:["Select the ",Object(m.jsx)("span",{className:"material-icons",children:"play_arrow"})," icon to play the movie trailer."]}),Object(m.jsxs)("li",{children:["Select the ",Object(m.jsx)("span",{className:"material-icons-outlined",children:"more_horiz"})," icon to learn more about the movie on IMBD."]}),Object(m.jsxs)("li",{children:["Use the navbar to see your favourites ",Object(m.jsx)("span",{className:"material-icons-outlined",children:"favorite_border"}),", your past search ",Object(m.jsx)("span",{className:"material-icons",children:"replay"})," or to see Cally's picks ",Object(m.jsx)("span",{className:"material-icons-outlined",children:"movie"})]})]})]})},e}return Object(o.a)(c,[{key:"render",value:function(){var e=this.props,t=e.movies,c=e.search;return Object(m.jsx)(n.Fragment,{children:this.pageOutput(t,c)})}}]),c}(n.Component),f=c(34);c(61);f.a.initializeApp({apiKey:"AIzaSyBDxJ2gCQOSjKVEgWaZhyGZY0s1jzBY2Oc",authDomain:"the-shoppies-1edfe.firebaseapp.com",projectId:"the-shoppies-1edfe",storageBucket:"the-shoppies-1edfe.appspot.com",messagingSenderId:"828709457093",appId:"1:828709457093:web:68712c5df2d11e72b374ac"});var g=f.a,y=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){var e;return Object(r.a)(this,c),(e=t.call(this)).state={cally:[]},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var e=this;g.database().ref().on("value",(function(t){var c=t.val(),n=[];for(var s in c){var a={id:s,name:c[s]};n.push(a)}e.setState({cally:n})}))}},{key:"render",value:function(){return Object(m.jsxs)(n.Fragment,{children:[Object(m.jsx)("h3",{children:"Cally's Picks"}),Object(m.jsx)("ul",{className:"shoppies-list",children:this.state.cally.map((function(e,t){return Object(m.jsxs)("li",{children:[Object(m.jsx)(h.b,{to:{pathname:"/the-shoppies/movie/".concat(e.name.imdbID),state:{ID:"".concat(e.name.imdbID)}},children:Object(m.jsx)("img",{src:"N/A"===e.name.Poster?b:e.name.Poster,alt:e.name.Title})}),Object(m.jsx)("p",{children:"".concat(e.name.Title," (").concat(e.name.Year,")")})]},t)}))})]})}}]),c}(n.Component),N=c(36),S=c(27),D=c.n(S);var w=function(e){var t=e.info,c=Object(u.d)((function(e){return e.counter.title})),s=Object(u.c)();return Object(m.jsx)(n.Fragment,{children:Object(m.jsx)("button",{onClick:function(){return s({type:"INCREMENT",payload:{add:1,insert:e=t,title:e.Title,year:e.Year}});var e},children:Object(m.jsx)("span",{className:"material-icons ".concat(c.includes(t.Title)?"control":null),children:"star"})})})},I=c(48),k=c.n(I),C=c(49);var T=function(e){var t=Object(n.useState)([]),c=Object(N.a)(t,2),s=c[0],a=c[1],i=Object(n.useState)(""),r=Object(N.a)(i,2),o=r[0],l=r[1],j=e.location.state.ID,h=Object(u.c)(),d=Object(u.d)((function(e){return e.modal}));Object(n.useEffect)((function(){D()({url:"https://www.omdbapi.com/?apikey=".concat("1c039e11"),method:"GET",responseType:"json",params:{i:"".concat(j)}}).then((function(e){a(e.data)}))}));var p=s.Poster,O=s.Title,x=s.Year,v=s.Plot,f=s.Director,g=s.Actors,y=s.imdbID;return Object(m.jsxs)("div",{className:"single-movie ".concat(window.innerWidth>950?"film-contain":""),children:[Object(m.jsxs)("div",{className:"desktop-left ".concat(d?" blurBack":""),children:[Object(m.jsx)("div",{className:"movie-poster",children:Object(m.jsx)("img",{src:"N/A"===p?b:p,alt:O})}),Object(m.jsxs)("div",{className:"interactions",children:[Object(m.jsx)(w,{info:s}),Object(m.jsx)("button",{children:Object(m.jsx)("span",{className:"material-icons ".concat("N/A"===p?"control":null),onClick:"N/A"===p?null:function(){k()("".concat(s.Title)).then((function(e){var t=new URL(e).search.slice(3);l(t),h({type:"MODAL"})}))},children:"play_arrow"})}),Object(m.jsx)("a",{href:"N/A"===y?"https://www.google.com/search?q=".concat(O):"https://www.imdb.com/title/".concat(y),children:Object(m.jsx)("span",{className:"material-icons-outlined",children:"more_horiz"})})]})]}),d?Object(m.jsx)("div",{className:"highlight",children:Object(m.jsx)(C.a,{videoId:o,opts:{playerVars:{autoplay:1}},containerClassName:"overlay",ClassName:"test"})}):Object(m.jsxs)("div",{className:"movie-content ".concat(d?" blurBack":""),children:[Object(m.jsx)("h3",{children:O}),Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"Summary"})}),Object(m.jsx)("p",{children:v}),Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"Director"})}),Object(m.jsx)("p",{children:f}),Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"Cast"})}),Object(m.jsx)("p",{children:g}),Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"Release"})}),Object(m.jsx)("p",{children:x})]})]})};var E=function(){var e=Object(u.d)((function(e){return e.counter.number}));return Object(m.jsx)(n.Fragment,{children:e>0&&Object(m.jsx)("span",{className:"favourite",children:e})})},_=c.p+"static/media/cal-stroke.a4087cf3.svg";var M=function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.modal}));return Object(m.jsx)("li",{className:"".concat(t?"show include-close":"hide"),onClick:function(){return e({type:"MODAL"})},children:Object(m.jsx)("span",{className:"material-icons-outlined",children:"close"})})},A=c.p+"static/media/cal-logo.7961e720.svg",F=c.p+"static/media/search.8900d0c8.svg",B=(c(102),function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(e){var n;return Object(r.a)(this,c),(n=t.call(this,e)).handleChange=function(e){var t=e.target.value;n.setState({search:t})},n.reset=function(){n.setState({search:"",movies:[],redirect:!1})},n.handleSubmit=function(e){e.preventDefault();D()({url:"https://www.omdbapi.com/?apikey=".concat("1c039e11"),method:"GET",responseType:"json",params:{s:"".concat(n.state.search),type:"movie"}}).then((function(e){n.setState({movies:e.data.Search,redirect:!0}),document.getElementById("movie").value=""})).catch((function(e){console.log(e)}))},n.redirect=function(){n.setState({redirect:!1})},n.removeIntro=function(){n.setState({opening:!n.state.opening})},n.state={opening:!0,search:"",movies:[],redirect:!1},n}return Object(o.a)(c,[{key:"render",value:function(){var e=this;return Object(m.jsxs)(n.Fragment,{children:[this.state.opening&&Object(m.jsxs)("div",{className:"opening",onClick:this.removeIntro,children:[Object(m.jsx)("img",{src:_,alt:"shoppies logo"}),Object(m.jsx)("h2",{children:"The Shoppies"})]}),!this.state.opening&&Object(m.jsxs)(h.a,{children:[Object(m.jsxs)("header",{children:[Object(m.jsx)(h.c,{to:"/the-shoppies",children:Object(m.jsx)("button",{children:Object(m.jsx)("img",{className:"logo",src:A,alt:"Calvin Movie Logo"})})}),Object(m.jsxs)("form",{action:"",className:"search-bar",onSubmit:this.handleSubmit,children:[Object(m.jsx)("label",{htmlFor:"movie",children:"Movie title"}),Object(m.jsx)("input",{type:"text",id:"movie",name:"movie",onChange:this.handleChange,value:this.props.search,placeholder:"Search for a movie"}),Object(m.jsx)("button",{className:"search-button",value:"submit",children:Object(m.jsx)("img",{src:F,alt:"search button"})})]})]}),Object(m.jsx)("aside",{className:5===this.props.counter?"show":"hide",children:Object(m.jsx)("h4",{children:"You have nominated all your shoppies"})}),Object(m.jsxs)("section",{children:[Object(m.jsx)("nav",{className:"sidebar",children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{className:this.props.modal?"include-close":null,children:Object(m.jsx)(h.c,{to:"/the-shoppies",children:Object(m.jsx)("span",{className:"material-icons-outlined",onClick:this.reset,children:"info"})})}),Object(m.jsx)("li",{className:this.props.modal?"include-close":null,children:Object(m.jsx)(h.c,{to:"/the-shoppies/cally",onClick:this.redirect,children:Object(m.jsx)("span",{className:"material-icons-outlined",children:"movie"})})}),Object(m.jsx)("li",{className:this.props.modal?"include-close":null,children:Object(m.jsxs)(h.c,{to:"/the-shoppies/favourite",onClick:this.redirect,children:[Object(m.jsx)("span",{className:"material-icons",children:"favorite_border"}),Object(m.jsx)(E,{})]})}),Object(m.jsx)("li",{className:this.props.modal?"include-close":null,children:Object(m.jsx)(h.c,{to:"/the-shoppies",children:Object(m.jsx)("span",{className:"material-icons",children:"replay"})})}),Object(m.jsx)(M,{})]})}),Object(m.jsxs)("div",{className:"movie-options",children:[Object(m.jsx)(d.b,{exact:!0,path:"/the-shoppies",render:function(){return Object(m.jsx)(v,{movies:e.state.movies,search:e.state.search})}}),Object(m.jsx)(d.b,{path:"/the-shoppies/movie/:movieID",component:T}),!0===this.state.redirect?Object(m.jsx)(d.a,{to:"/the-shoppies"}):Object(m.jsx)(d.b,{path:"/the-shoppies/cally",component:y}),!0===this.state.redirect?Object(m.jsx)(d.a,{to:"/the-shoppies"}):Object(m.jsx)(d.b,{path:"/the-shoppies/favourite",component:p})]})]})]})]})}}]),c}(n.Component)),P=Object(u.b)((function(e){return{modal:e.modal,counter:e.counter.number}}),null)(B),L=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,104)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))},R=c(28),Y=c(37),V=c(23),z={number:0,movie:[],title:""},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT":return e.number<5&&!e.title.includes(t.payload.title)?e=Object(V.a)(Object(V.a)({},e),{},{number:e.number+t.payload.add,movie:[].concat(Object(Y.a)(e.movie),[t.payload.insert]),title:[].concat(Object(Y.a)(e.title),[t.payload.title])}):e;case"REMOVE":return e=Object(V.a)(Object(V.a)({},e),{},{number:e.number-t.payload.remove,movie:e.movie.filter((function(e){return e!==t.payload.selected})),title:e.title.filter((function(e){return e!==t.payload.selected.Title}))});default:return e}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODAL":return!e;default:return e}},G=Object(R.a)({counter:U,modal:X}),J=Object(R.b)(G,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(u.a,{store:J,children:Object(m.jsx)(P,{})})}),document.getElementById("root")),L()}},[[103,1,2]]]);
//# sourceMappingURL=main.5ae0c8bc.chunk.js.map