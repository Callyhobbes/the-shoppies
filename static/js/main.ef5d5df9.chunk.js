(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{100:function(e,t,c){"use strict";c.r(t);var s=c(2),n=c.n(s),i=c(23),a=c.n(i),r=c(13),o=c(14),l=c(16),h=c(15),j=c(9),d=c(5),b=c(17),m=c(1);var u=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.counter.movie}));return console.log(t.length),Object(m.jsxs)(s.Fragment,{children:[Object(m.jsx)("h3",{children:"Your Shoppies"}),Object(m.jsx)("div",{className:"".concat(t.length<1?"only-text":null),children:0===t.length?Object(m.jsxs)("p",{children:["No movies ",Object(m.jsx)("span",{className:"material-icons-outlined",children:"star_border"})," yet."]}):Object(m.jsx)("ul",{className:"shoppies-list",children:t.map((function(t,c){return Object(m.jsxs)("li",{children:[Object(m.jsx)(j.b,{to:{pathname:"/movie/".concat(t.imdbID),state:{ID:"".concat(t.imdbID)}},children:Object(m.jsx)("img",{src:t.Poster,alt:t.Title})}),Object(m.jsx)("p",{children:"".concat(t.Title," (").concat(t.Year,")")}),Object(m.jsx)("button",{onClick:function(){return e(function(e){return{type:"REMOVE",payload:{remove:1,selected:e.movie}}}({movie:t}))},children:Object(m.jsx)("span",{className:"material-icons-outlined",children:"close"})})]},c)}))})})]})},p=c.p+"static/media/no-poster.8ea4435b.png",O=function(e){Object(l.a)(c,e);var t=Object(h.a)(c);function c(){var e;return Object(r.a)(this,c),(e=t.call(this)).state={ID:[]},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.setState({ID:"".concat(this.props.IMDB)})}},{key:"render",value:function(){var e=this.props,t=e.title,c=e.poster,s=e.IMDB;return Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:{pathname:"/movie/".concat(s),state:{ID:"".concat(s)}},children:Object(m.jsx)("img",{src:"N/A"===c?p:c,alt:t})})})}}]),c}(s.Component),v=c.p+"static/media/keanu-min.83634a9d.jpg",x=function(e){Object(l.a)(c,e);var t=Object(h.a)(c);function c(){var e;Object(r.a)(this,c);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).shortenSearch=function(e){var t=e.toString();return t.length>10?t.substring(0,10).concat("..."):t},e.pageOutput=function(t,c){return void 0===t?Object(m.jsxs)(s.Fragment,{children:[Object(m.jsx)("h3",{children:"An error has occured during your search. Please try searching again."}),Object(m.jsx)("img",{src:v,alt:"Keanu Reeves questioning your search"})]}):t.length>0?Object(m.jsxs)(s.Fragment,{children:[Object(m.jsxs)("h3",{children:['You searched for "',e.shortenSearch(c),'"']}),Object(m.jsx)("ul",{className:"movie-list",children:t.map((function(e,t){return Object(m.jsx)(O,{title:e.Title,poster:e.Poster,IMDB:e.imdbID},t)}))})]}):Object(m.jsxs)(s.Fragment,{children:[Object(m.jsx)("h3",{children:"Welcome to the Shoppies!"}),Object(m.jsxs)("ul",{className:"instructions",children:[Object(m.jsx)("li",{children:"Use the search bar above to find a movie or television series that you like."}),Object(m.jsx)("li",{children:"Click on the poster images to see more information about the selected title."}),Object(m.jsxs)("li",{children:["Select the ",Object(m.jsx)("span",{className:"material-icons-outlined",children:"star_border"})," icon to add up to ",Object(m.jsx)("strong",{children:"5"})," movies to your favourites page"]}),Object(m.jsxs)("li",{children:["Select the ",Object(m.jsx)("span",{className:"material-icons",children:"play_arrow"})," icon to play the movie trailer."]}),Object(m.jsxs)("li",{children:["Select the ",Object(m.jsx)("span",{className:"material-icons-outlined",children:"more_horiz"})," icon to learn more about the movie on IMBD."]}),Object(m.jsxs)("li",{children:["Use the navbar see your favourites ",Object(m.jsx)("span",{className:"material-icons-outlined",children:"favorite_border"}),", your past search ",Object(m.jsx)("span",{className:"material-icons",children:"replay"})," or to see Cally's picks ",Object(m.jsx)("span",{className:"material-icons-outlined",children:"movie"})]})]})]})},e}return Object(o.a)(c,[{key:"render",value:function(){var e=this.props,t=e.movies,c=e.search;return Object(m.jsx)(s.Fragment,{children:this.pageOutput(t,c)})}}]),c}(s.Component),f=c(32);c(58);f.a.initializeApp({apiKey:"AIzaSyBDxJ2gCQOSjKVEgWaZhyGZY0s1jzBY2Oc",authDomain:"the-shoppies-1edfe.firebaseapp.com",projectId:"the-shoppies-1edfe",storageBucket:"the-shoppies-1edfe.appspot.com",messagingSenderId:"828709457093",appId:"1:828709457093:web:68712c5df2d11e72b374ac"});var g=f.a,y=function(e){Object(l.a)(c,e);var t=Object(h.a)(c);function c(){var e;return Object(r.a)(this,c),(e=t.call(this)).state={cally:[]},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var e=this;g.database().ref().on("value",(function(t){var c=t.val(),s=[];for(var n in c){var i={id:n,name:c[n]};s.push(i)}e.setState({cally:s})}))}},{key:"render",value:function(){return console.log(this.state.cally),Object(m.jsxs)(s.Fragment,{children:[Object(m.jsx)("h3",{children:"Cally's Picks"}),Object(m.jsx)("ul",{className:"shoppies-list",children:this.state.cally.map((function(e,t){return Object(m.jsxs)("li",{children:[Object(m.jsx)(j.b,{to:{pathname:"/movie/".concat(e.name.imdbID),state:{ID:"".concat(e.name.imdbID)}},children:Object(m.jsx)("img",{src:"N/A"===e.name.Poster?p:e.name.Poster,alt:e.name.Title})}),Object(m.jsx)("p",{children:"".concat(e.name.Title," (").concat(e.name.Year,")")})]},t)}))})]})}}]),c}(s.Component),N=c(25),w=c.n(N),S=c(45),C=c(48),k=c.n(C);var I=function(e){var t=e.info,c=Object(b.c)((function(e){return e.counter.title})),n=Object(b.b)();return Object(m.jsx)(s.Fragment,{children:Object(m.jsx)("button",{onClick:function(){return n({type:"INCREMENT",payload:{add:1,insert:e=t,title:e.Title,year:e.Year}});var e},children:Object(m.jsx)("span",{className:"material-icons-outlined ".concat(c.includes(t.Title)?"control":""),children:"star_border"})})})},D=function(e){Object(l.a)(c,e);var t=Object(h.a)(c);function c(){var e;return Object(r.a)(this,c),(e=t.call(this)).handleClick=function(){var t=e.state.movie;k()("".concat(t.Title)).then((function(t){var c=new URL(t).search.slice(3);e.setState({trailer:c,showModal:!0})}))},e.closeModal=function(){e.setState({showModal:!1})},e.windowView=function(){return window.innerWidth<500?(console.log(window.innerWidth),300):window.innerWidth<1e3?(console.log(window.innerWidth),600):(console.log(window.innerWidth),800)},e.state={movie:{},trailer:"",showModal:!1},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var e=this;w()({url:"https://www.omdbapi.com/?apikey=".concat("1c039e11"),method:"GET",responseType:"json",params:{i:"".concat(this.props.location.state.ID)}}).then((function(t){e.setState({movie:t.data})}))}},{key:"render",value:function(){var e=this.state.movie,t=e.Poster,c=e.Title,s=e.Year,n=e.Plot,i=e.Director,a=e.Actors,r=e.imdbID;return Object(m.jsxs)("div",{className:"single-movie ".concat(window.innerWidth>950?"film-contain":""),children:[Object(m.jsxs)("div",{className:"desktop-left ".concat(this.state.showModal?" blurBack":""),children:[Object(m.jsx)("div",{className:"movie-poster",children:Object(m.jsx)("img",{src:"N/A"===t?p:t,alt:c})}),Object(m.jsxs)("div",{className:"interactions",children:[Object(m.jsx)(I,{info:this.state.movie}),Object(m.jsx)("button",{children:Object(m.jsx)("span",{className:"material-icons",onClick:this.handleClick,children:"play_arrow"})}),Object(m.jsx)("a",{href:"https://www.imdb.com/title/".concat(r),children:Object(m.jsx)("span",{className:"material-icons-outlined",children:"more_horiz"})})]})]}),this.state.showModal?Object(m.jsxs)("div",{className:"highlight",children:[Object(m.jsx)(S.a,{videoId:this.state.trailer,opts:{playerVars:{autoplay:1}},containerClassName:"overlay",ClassName:"test"}),Object(m.jsx)("button",{className:"trailer",children:Object(m.jsx)("span",{className:"material-icons-outlined",onClick:this.closeModal,children:"close"})})]}):Object(m.jsxs)("div",{className:"movie-content ".concat(this.state.showModal?" blurBack":""),children:[Object(m.jsx)("h3",{children:c}),Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"Summary"})}),Object(m.jsx)("p",{children:n}),Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"Director"})}),Object(m.jsx)("p",{children:i}),Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"Cast"})}),Object(m.jsx)("p",{children:a}),Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"Release"})}),Object(m.jsx)("p",{children:s})]})]})}}]),c}(s.Component);var T=function(){var e=Object(b.c)((function(e){return e.counter.number}));return Object(m.jsx)(s.Fragment,{children:e>0&&Object(m.jsx)("span",{className:"favourite",children:e})})},M=c.p+"static/media/cal-stroke.a4087cf3.svg",E=c.p+"static/media/cal-logo.7961e720.svg",_=c.p+"static/media/search.8900d0c8.svg",F=(c(99),function(e){Object(l.a)(c,e);var t=Object(h.a)(c);function c(e){var s;return Object(r.a)(this,c),(s=t.call(this,e)).handleChange=function(e){var t=e.target.value;s.setState({search:t})},s.reset=function(){s.setState({search:"",movies:[],redirect:!1})},s.handleSubmit=function(e){e.preventDefault();w()({url:"https://www.omdbapi.com/?apikey=".concat("1c039e11"),method:"GET",responseType:"json",params:{s:"".concat(s.state.search),type:"movie"}}).then((function(e){s.setState({movies:e.data.Search,redirect:!0}),document.getElementById("movie").value=""})).catch((function(e){console.log(e)}))},s.redirect=function(){s.setState({redirect:!1})},s.removeIntro=function(){s.setState({opening:!s.state.opening})},s.state={opening:!0,search:"",movies:[],redirect:!1},s}return Object(o.a)(c,[{key:"render",value:function(){var e=this;return Object(m.jsxs)(s.Fragment,{children:[this.state.opening&&Object(m.jsxs)("div",{className:"opening",onClick:this.removeIntro,children:[Object(m.jsx)("img",{src:M,alt:"shoppies logo"}),Object(m.jsx)("h2",{children:"The Shoppies"})]}),!this.state.opening&&Object(m.jsxs)(j.a,{children:[Object(m.jsxs)("header",{children:[Object(m.jsx)(j.c,{to:"/the-shoppies",children:Object(m.jsx)("button",{children:Object(m.jsx)("img",{className:"logo",src:E,alt:"Calvin Movie Logo"})})}),Object(m.jsxs)("form",{action:"",className:"search-bar",onSubmit:this.handleSubmit,children:[Object(m.jsx)("label",{htmlFor:"movie",children:"Movie title"}),Object(m.jsx)("input",{type:"text",id:"movie",name:"movie",onChange:this.handleChange,value:this.props.search,placeholder:"Search for a movie"}),Object(m.jsx)("button",{className:"search-button",value:"submit",children:Object(m.jsx)("img",{src:_,alt:"search button"})})]})]}),Object(m.jsxs)("section",{children:[Object(m.jsx)("nav",{className:"sidebar",children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(j.c,{to:"/the-shoppies",children:Object(m.jsx)("span",{className:"material-icons-outlined",onClick:this.reset,children:"info"})})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.c,{to:"/the-shoppies/cally",activeClassName:"selected",onClick:this.redirect,children:Object(m.jsx)("span",{className:"material-icons-outlined",children:"movie"})})}),Object(m.jsx)("li",{children:Object(m.jsxs)(j.c,{to:"/the-shoppies/favourite",activeClassName:"selected",onClick:this.redirect,children:[Object(m.jsx)("span",{className:"material-icons",children:"favorite_border"}),Object(m.jsx)(T,{})]})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.c,{to:"/the-shoppies",children:Object(m.jsx)("span",{className:"material-icons",children:"replay"})})})]})}),Object(m.jsxs)("div",{className:"movie-options",children:[Object(m.jsx)(d.b,{exact:!0,path:"/the-shoppies",render:function(){return Object(m.jsx)(x,{movies:e.state.movies,search:e.state.search})}}),Object(m.jsx)(d.b,{path:"/the-shoppies/movie/:movieID",component:D}),!0===this.state.redirect?Object(m.jsx)(d.a,{to:"/the-shoppies"}):Object(m.jsx)(d.b,{path:"/the-shoppies/cally",component:y}),!0===this.state.redirect?Object(m.jsx)(d.a,{to:"/the-shoppies"}):Object(m.jsx)(d.b,{path:"/the-shoppies/favourite",component:u})]})]})]})]})}}]),c}(s.Component)),B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,101)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),s(e),n(e),i(e),a(e)}))},P=c(26),R=c(34),A=c(22),W={number:0,movie:[],title:""},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT":return e.number<5&&!e.title.includes(t.payload.title)?e=Object(A.a)(Object(A.a)({},e),{},{number:e.number+t.payload.add,movie:[].concat(Object(R.a)(e.movie),[t.payload.insert]),title:[].concat(Object(R.a)(e.title),[t.payload.title])}):(console.log("else"),e);case"REMOVE":return console.log(t.payload.selected.Title),e=Object(A.a)(Object(A.a)({},e),{},{number:e.number-t.payload.remove,movie:e.movie.filter((function(e){return e!==t.payload.selected})),title:e.title.filter((function(e){return e!==t.payload.selected.Title}))});default:return e}},V=Object(P.a)({counter:Y}),L=Object(P.b)(V,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(b.a,{store:L,children:Object(m.jsx)(F,{})})}),document.getElementById("root")),B()},99:function(e,t,c){}},[[100,1,2]]]);
//# sourceMappingURL=main.ef5d5df9.chunk.js.map